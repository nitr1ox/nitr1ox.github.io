<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OM ‚Äî Une Passion (Scroll 3D)</title>
  <meta name="description" content="Site fan OM avec effets 3D au scroll (parallax, profondeur, tilt)." />
  <style>
    :root{
      --bg:#050914; --bg2:#070b1a;
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.72);
      --stroke:rgba(255,255,255,.14);
      --glass:rgba(255,255,255,.06);
      --glass2:rgba(255,255,255,.10);
      --blue:#00b3ff; --cyan:#2ee6ff; --gold:#ffcc66;
      --shadow: 0 18px 70px rgba(0,0,0,.58);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(0,179,255,.22), transparent 60%),
        radial-gradient(900px 600px at 80% 30%, rgba(255,204,102,.12), transparent 60%),
        radial-gradient(1000px 700px at 70% 90%, rgba(46,230,255,.12), transparent 55%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
    }

    /* Stadium lights */
    .lights{
      position:fixed; inset:0; pointer-events:none; z-index:-2;
      filter: blur(40px) saturate(125%);
      opacity:.65;
    }
    .lights::before,.lights::after{
      content:""; position:absolute; inset:-50px;
      background:
        conic-gradient(from 220deg at 50% 50%,
          rgba(0,179,255,0),
          rgba(0,179,255,.28),
          rgba(255,204,102,.18),
          rgba(46,230,255,.24),
          rgba(0,179,255,0));
      animation: spin 18s linear infinite;
    }
    .lights::after{animation-duration: 30s; opacity:.55; mix-blend-mode: screen;}
    @keyframes spin{ to{ transform: rotate(360deg); } }

    /* Scroll progress bar */
    .progress{
      position:fixed; top:0; left:0; height:3px; width:0%;
      background: linear-gradient(90deg, rgba(46,230,255,.0), rgba(46,230,255,.9), rgba(0,179,255,.9));
      box-shadow: 0 0 18px rgba(46,230,255,.35);
      z-index:1000;
    }

    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(14px);
      background: rgba(5,9,20,.56);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .wrap{ width:min(1120px, 92vw); margin:0 auto; }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:14px 0;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      text-decoration:none; color:var(--text);
      user-select:none;
    }
    .logo{
      width:44px; height:44px; border-radius:16px;
      background: linear-gradient(135deg, rgba(0,179,255,.95), rgba(46,230,255,.55));
      box-shadow: 0 12px 28px rgba(0,179,255,.22);
      border:1px solid rgba(255,255,255,.16);
      position:relative;
    }
    .logo::after{
      content:""; position:absolute; inset:2px; border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.20), rgba(255,255,255,0));
    }
    .brand strong{ letter-spacing:.4px; }
    .brand small{ display:block; color:var(--muted); font-weight:600; margin-top:2px; }

    .links{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
    .links a{
      color:var(--muted); text-decoration:none; font-weight:800;
      padding:10px 12px; border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
    }
    .links a:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.16);
      color: var(--text);
    }

    /* HERO */
    .hero{
      padding: 62px 0 28px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 26px;
      align-items:center;
    }
    @media (max-width: 900px){ .hero{ grid-template-columns: 1fr; padding-top: 44px; } }

    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      font-weight:900; letter-spacing:.3px;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, var(--cyan));
      box-shadow: 0 0 18px rgba(46,230,255,.45);
    }
    h1{
      margin:16px 0 10px;
      font-size: clamp(34px, 4vw, 60px);
      line-height: 1.02;
      letter-spacing: -0.7px;
      text-shadow:
        0 2px 0 rgba(0,0,0,.35),
        0 16px 44px rgba(0,0,0,.62);
    }
    .lead{
      margin:0 0 14px;
      color: var(--muted);
      font-size: clamp(16px, 1.35vw, 18px);
      line-height:1.7;
    }
    .ctaRow{ display:flex; gap:12px; flex-wrap:wrap; margin-top:16px; }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      text-decoration:none;
      font-weight:950;
      box-shadow: 0 12px 34px rgba(0,0,0,.25);
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      will-change: transform;
    }
    .btn:hover{ transform: translateY(-2px); background: rgba(255,255,255,.09); border-color: rgba(255,255,255,.20); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(0,179,255,.92), rgba(46,230,255,.45));
      border-color: rgba(46,230,255,.38);
    }
    .btn.primary:hover{ transform: translateY(-2px) scale(1.01); }
    .btn .icon{
      width:24px; height:24px; border-radius:10px;
      background: rgba(255,255,255,.18);
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.18);
    }

    .hr{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
      margin: 18px 0;
    }

    /* 3D stage */
    .stage{ perspective: 1200px; }
    .tilt{
      transform-style: preserve-3d;
      will-change: transform;
      position:relative;
    }
    .glow{
      position:absolute; inset:-160px;
      background: radial-gradient(280px 220px at var(--mx,50%) var(--my,30%), rgba(46,230,255,.22), transparent 60%);
      opacity:0; transition: opacity .2s ease;
      pointer-events:none; mix-blend-mode:screen;
    }
    .tilt:hover .glow{ opacity:.95; }

    /* HERO image block with parallax layers */
    .panel{
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
      min-height: 460px;
      position:relative;
    }
    .layer{ position:absolute; inset:0; transform-style:preserve-3d; will-change:transform; }
    .layer.bg{
      background:
        radial-gradient(700px 260px at 20% 18%, rgba(46,230,255,.16), transparent 60%),
        radial-gradient(700px 320px at 85% 30%, rgba(255,204,102,.12), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.52)),
        url("https://images.unsplash.com/photo-1521412644187-c49fa049e84d?auto=format&fit=crop&w=1600&q=80");
      background-size: cover;
      background-position: center;
      filter: contrast(1.06) saturate(1.06);
      transform: translateZ(-60px) scale(1.12);
    }
    .layer.mid{
      background:
        radial-gradient(320px 220px at 30% 70%, rgba(0,179,255,.18), transparent 60%),
        radial-gradient(280px 200px at 76% 25%, rgba(46,230,255,.18), transparent 60%);
      transform: translateZ(-10px);
      mix-blend-mode: screen;
      opacity:.92;
    }
    .layer.fg{
      display:flex;
      flex-direction:column;
      justify-content:flex-end;
      gap:10px;
      padding:20px;
      transform: translateZ(50px);
    }
    .badgeRow{ display:flex; gap:8px; flex-wrap:wrap; }
    .badge{
      padding:8px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(5,9,20,.46);
      backdrop-filter: blur(10px);
      color: rgba(255,255,255,.86);
      font-weight:950;
      font-size: 12px;
      letter-spacing:.4px;
      text-transform: uppercase;
    }
    .panelTitle{
      margin:0;
      font-size: 22px;
      font-weight: 1000;
      text-shadow: 0 16px 44px rgba(0,0,0,.65);
    }
    .panelText{
      margin:0;
      color: rgba(255,255,255,.78);
      line-height:1.6;
      max-width: 52ch;
      text-shadow: 0 16px 44px rgba(0,0,0,.65);
    }

    section{ padding: 30px 0; }
    .sectionTitle{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:16px; margin: 8px 0 14px;
    }
    .sectionTitle h2{ margin:0; font-size: 22px; letter-spacing:.2px; }
    .sectionTitle p{ margin:0; color: var(--muted); max-width: 62ch; }

    /* Scroll 3D blocks (animate in with depth) */
    .scroll3d{
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      transform-style: preserve-3d;
      will-change: transform, opacity;
      opacity:0;
      transform: translateY(28px) rotateX(18deg) translateZ(-80px);
    }
    .scroll3d.in{
      opacity:1;
      transform: translateY(0) rotateX(0deg) translateZ(0px);
      transition: opacity .8s ease, transform .9s cubic-bezier(.2,.8,.2,1);
    }
    .scroll3d .inner{
      padding: 18px;
      transform: translateZ(20px);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }
    .card{
      grid-column: span 4;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: 0 14px 44px rgba(0,0,0,.35);
      overflow:hidden;
      position:relative;
      transform-style: preserve-3d;
      will-change: transform, opacity;
      opacity:0;
      transform: translateY(24px) rotateX(16deg) translateZ(-70px);
    }
    .card.in{
      opacity:1;
      transform: translateY(0) rotateX(0deg) translateZ(0px);
      transition: opacity .75s ease, transform .85s cubic-bezier(.2,.8,.2,1);
    }
    @media (max-width: 980px){ .card{ grid-column: span 6; } }
    @media (max-width: 640px){ .card{ grid-column: span 12; } }

    .card .img{
      height: 170px;
      background-size: cover;
      background-position:center;
      transform: translateZ(-20px) scale(1.06);
      filter: saturate(1.06) contrast(1.03);
    }
    .card .body{
      padding: 12px 14px 14px;
      transform: translateZ(18px);
    }
    .card h3{ margin:0 0 6px; font-size: 16px; letter-spacing:.2px; }
    .card p{ margin:0; color: var(--muted); line-height:1.55; font-size: 14px; }

    /* Big parallax banner */
    .banner{
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      min-height: 320px;
      transform-style: preserve-3d;
      will-change: transform;
    }
    .bannerBg{
      position:absolute; inset:0;
      background-image:
        linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.60)),
        url("https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1600&q=80");
      background-size: cover;
      background-position: center;
      transform: translateZ(-70px) scale(1.15);
      filter: saturate(1.04) contrast(1.03);
    }
    .bannerFg{
      position:absolute; inset:0;
      padding: 18px;
      display:flex; flex-direction:column; justify-content:flex-end;
      gap: 10px;
      transform: translateZ(50px);
    }
    .quote{
      font-size: 20px;
      font-weight: 1000;
      text-shadow: 0 16px 44px rgba(0,0,0,.72);
      margin:0;
    }
    .sub{
      margin:0;
      color: rgba(255,255,255,.78);
      line-height:1.6;
      max-width: 65ch;
      text-shadow: 0 16px 44px rgba(0,0,0,.72);
    }

    footer{ padding: 30px 0 44px; color: rgba(255,255,255,.62); text-align:center; }

    /* reduce motion */
    @media (prefers-reduced-motion: reduce){
      .scroll3d, .card{ transition:none !important; transform:none !important; opacity:1 !important; }
      .lights::before, .lights::after{ animation:none !important; }
    }
  </style>
</head>
<body>
  <div class="progress" id="progress"></div>
  <div class="lights"></div>

  <header>
    <div class="wrap nav">
      <a class="brand" href="#top">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <strong>OM ‚Äî Une Passion</strong>
          <small>Bleu & Blanc ‚Ä¢ Ferveur ‚Ä¢ V√©lodrome</small>
        </div>
      </a>
      <nav class="links">
        <a href="#passion">Passion</a>
        <a href="#moments">Moments</a>
        <a href="#marseille">Marseille</a>
      </nav>
    </div>
  </header>

  <main id="top" class="wrap">
    <section class="hero">
      <div class="stage">
        <div class="kicker"><span class="dot"></span> Quand tu scroll, tout se met en relief.</div>
        <h1>L‚ÄôOM, c‚Äôest une passion qui prend de la profondeur.</h1>
        <p class="lead">
          Descends : les blocs se d√©plient en 3D, les images bougent en parallax, et les cartes sortent du fond.
          Sur PC : survole les cartes pour un tilt 3D + une lumi√®re qui suit ta souris.
        </p>
        <div class="ctaRow">
          <a class="btn primary" href="#passion"><span class="icon">‚¨áÔ∏è</span> Voir les effets</a>
          <a class="btn" href="#marseille"><span class="icon">üåä</span> Marseille</a>
        </div>
        <div class="hr"></div>
        <p style="margin:0;color:var(--muted);font-weight:800">Astuce : le fond et les images bougent avec le scroll (parallax).</p>
      </div>

      <div class="stage">
        <article class="panel tilt" data-tilt>
          <div class="glow" aria-hidden="true"></div>
          <div class="layer bg" data-parallax="0.35" aria-hidden="true"></div>
          <div class="layer mid" data-parallax="0.18" aria-hidden="true"></div>
          <div class="layer fg" data-parallax="0.08">
            <div class="badgeRow">
              <span class="badge">Ferveur</span>
              <span class="badge">Bleu & Blanc</span>
              <span class="badge">V√©lodrome</span>
            </div>
            <h3 class="panelTitle">Le V√©lodrome : un rugissement.</h3>
            <p class="panelText">Quand la tribune s‚Äôallume, la ville vibre. L‚ÄôOM, c‚Äôest plus grand que 90 minutes.</p>
          </div>
        </article>
      </div>
    </section>

    <section id="passion">
      <div class="sectionTitle">
        <h2>La passion en relief</h2>
        <p>Ces blocs apparaissent en 3D quand tu arrives dessus.</p>
      </div>

      <div class="scroll3d stage" data-scroll3d>
        <div class="inner">
          <strong style="display:block;font-size:18px;letter-spacing:.2px">Ce n‚Äôest pas ‚Äújuste du foot‚Äù.</strong>
          <p style="margin:10px 0 0;color:var(--muted);line-height:1.7">
            C‚Äôest une ville enti√®re qui chante, une identit√© bleu & blanc, et une √©motion qui revient √† chaque match.
          </p>
        </div>
      </div>

      <div class="hr"></div>

      <div class="grid" id="moments">
        <article class="card tilt stage" data-tilt data-scrollcard>
          <div class="glow" aria-hidden="true"></div>
          <div class="img" data-parallax="0.22"
               style="background-image:url('https://images.unsplash.com/photo-1508098682722-e99c643e7f2b?auto=format&fit=crop&w=1600&q=80')"></div>
          <div class="body">
            <h3>Le but</h3>
            <p>Une seconde‚Ä¶ puis l‚Äôexplosion. Le c≈ìur va plus vite que le ballon.</p>
          </div>
        </article>

        <article class="card tilt stage" data-tilt data-scrollcard>
          <div class="glow" aria-hidden="true"></div>
          <div class="img" data-parallax="0.18"
               style="background-image:url('https://images.unsplash.com/photo-1521412644187-c49fa049e84d?auto=format&fit=crop&w=1600&q=80')"></div>
          <div class="body">
            <h3>Le coup d‚Äôenvoi</h3>
            <p>Tout le monde se l√®ve. √áa commence. Et tu sais d√©j√† que √ßa va vibrer.</p>
          </div>
        </article>

        <article class="card tilt stage" data-tilt data-scrollcard>
          <div class="glow" aria-hidden="true"></div>
          <div class="img" data-parallax="0.14"
               style="background-image:url('https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1600&q=80')"></div>
          <div class="body">
            <h3>Les chants</h3>
            <p>La tribune te porte. Tu ne regardes plus : tu fais partie du match.</p>
          </div>
        </article>
      </div>
    </section>

    <section id="marseille">
      <div class="sectionTitle">
        <h2>Marseille & l‚ÄôOM</h2>
        <p>Un grand bloc parallax, avec profondeur (comme un ‚Äúdiaporama‚Äù 3D, mais au scroll).</p>
      </div>

      <div class="banner stage tilt" data-tilt data-scroll3d>
        <div class="glow" aria-hidden="true"></div>
        <div class="bannerBg" data-parallax="0.30" aria-hidden="true"></div>
        <div class="bannerFg" data-parallax="0.10">
          <p class="quote">‚Äú√Ä Marseille, le football est une histoire de c≈ìur.‚Äù</p>
          <p class="sub">Et l‚ÄôOM, c‚Äôest le c≈ìur qui bat plus fort : dans la ville, dans les tribunes, partout.</p>
          <div class="badgeRow">
            <span class="badge">üåä Mer</span>
            <span class="badge">üèüÔ∏è Stade</span>
            <span class="badge">üíô‚ö™ Fiert√©</span>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="hr"></div>
      <p>Site fan non officiel ‚Ä¢ Fait avec üíô‚ö™ ‚Ä¢ Images : Unsplash</p>
    </footer>
  </main>

  <script>
    // ===== Progress bar =====
    const progress = document.getElementById('progress');

    // ===== Tilt 3D + glow follow =====
    const tiltEls = document.querySelectorAll('[data-tilt]');
    tiltEls.forEach(el => {
      el.addEventListener('mousemove', (ev) => {
        const r = el.getBoundingClientRect();
        const x = ev.clientX - r.left;
        const y = ev.clientY - r.top;
        const px = x / r.width;
        const py = y / r.height;

        el.style.setProperty('--mx', (px*100).toFixed(2) + '%');
        el.style.setProperty('--my', (py*100).toFixed(2) + '%');

        const maxY = 12, maxX = 10;
        const rotY = (px - 0.5) * maxY;
        const rotX = (0.5 - py) * maxX;
        el.style.transform = `translateY(-4px) rotateX(${rotX.toFixed(2)}deg) rotateY(${rotY.toFixed(2)}deg)`;
      });
      el.addEventListener('mouseleave', () => {
        el.style.transform = 'translateY(0) rotateX(0) rotateY(0)';
        el.style.setProperty('--mx','50%');
        el.style.setProperty('--my','30%');
      });
    });

    // ===== Scroll-in 3D reveal =====
    const scrollBlocks = document.querySelectorAll('[data-scroll3d]');
    const scrollCards  = document.querySelectorAll('[data-scrollcard]');

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('in');
        }
      });
    }, { threshold: 0.15 });

    scrollBlocks.forEach(el => io.observe(el));
    scrollCards.forEach(el => io.observe(el));

    // ===== Parallax (smooth) =====
    const parallaxEls = Array.from(document.querySelectorAll('[data-parallax]'));

    let lastY = 0;
    let ticking = false;

    function onScroll(){
      lastY = window.scrollY || 0;

      const doc = document.documentElement;
      const max = (doc.scrollHeight - doc.clientHeight) || 1;
      const pct = (lastY / max) * 100;
      progress.style.width = pct.toFixed(2) + '%';

      if(!ticking){
        window.requestAnimationFrame(()=>{
          const vh = window.innerHeight;

          parallaxEls.forEach(el=>{
            const speed = parseFloat(el.dataset.parallax || "0.1");
            const r = el.getBoundingClientRect();
            const center = r.top + r.height/2;
            const t = (center - vh/2) / vh; // -1..1 approx

            // translateZ is subtle: only if element is inside a 3D context
            const ty = -t * speed * 60;     // px
            const tz = Math.max(-60, Math.min(60, -t * speed * 120)); // depth hint

            el.style.transform = `translateY(${ty.toFixed(2)}px) translateZ(${tz.toFixed(2)}px)`;
          });

          ticking = false;
        });
        ticking = true;
      }
    }

    window.addEventListener('scroll', onScroll, {passive:true});
    window.addEventListener('resize', onScroll);
    onScroll();
  </script>
</body>
</html>
